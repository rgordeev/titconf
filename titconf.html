<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type"     content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible"  content="IE=edge,chrome=1">
    <meta name='yandex-verification'    content='6c82813b2b0c2e42' />

    <title>TiTConf :: Добро пожаловать!</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" sizes="114x114" href="images/favicon.ico">

    <script>
        //<![CDATA[

        var TIMETABLE = [

            { hh: '17', mm: '20', author: 'Наталья Шалаева',    topic: 'Ретроспективы в Agile командах'},
            { hh: '17', mm: '45', author: 'Антон Баукин',       topic: 'Node.js как система кооперативной многозадачности'},
            { hh: '18', mm: '15', author: 'Игорь Петров',       topic: 'Под капотом "Градуса": инфраструктура веб-­‐студии'},
            { hh: '19', mm: '00', author: 'Денис Щетинин',      topic: 'Mocketry — предметно-ориентированный язык спецификаций на Smalltalk'},
            { hh: '19', mm: '30', author: 'Даниил Баскаков',    topic: 'Делаем SWING приложение доступным для работы под web с применением HTML5'},
            { hh: '20', mm: '00', author: 'Павел Чистяков',     topic: 'Разработка Chrome Apps. Текущее состояние и перспективы'},
            { hh: '20', mm: '30', author: 'Руслан Аль-Факих',   topic: 'Удаленная работа. Информация из личного опыта. Как искать, как получать оплату, какие бывают условия и проекты'},
            { hh: '21', mm: '15', author: 'Николай Голов',      topic: 'Почему не стоит выкидывать логи: методы анализа и монетизации больших данных, порождаемых веб-приложением. Как это делают в Авито, и как это можно делать самостоятельно'}
        ];

        //]]>
    </script>

    <script src="jQuery-2.1.3-min.js"></script>
    <link rel="stylesheet" href="titconf.css"/>

</head>
<body>
<div id="viewport">

    <div id="a">
        <div class="tit-pager">
            <div></div>
            <div></div>
        </div>

        <a id="vk-group" target="_blank" href="https://vk.com/titgroup"></a>

        <a id="git-repo" target="_blank" href="https://vk.com/titgroup"></a>
    </div>

    <div id="b">
        <div class="tit-pager">
            <div></div>
            <div></div>
        </div>

        <a id="google-maps" target="_blank"
           href="https://www.google.ru/maps/place/%D0%BD%D0%B0%D0%B1.+%D0%A1%D1%82%D0%B5%D0%BF%D0%B0%D0%BD%D0%B0+%D0%A0%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0,+5,+%D0%A2%D0%B2%D0%B5%D1%80%D1%8C,+%D0%A2%D0%B2%D0%B5%D1%80%D1%81%D0%BA%D0%B0%D1%8F+%D0%BE%D0%B1%D0%BB.,+170100/@56.861715,35.912008,17z/data=!3m1!4b1!4m2!3m1!1s0x46b686f8381f37ef:0xb6e411dabfb1201"></a>
        <a id="yandex-maps" target="_blank"
           href="https://maps.yandex.ru/?text=%D0%A0%D0%BE%D1%81%D1%81%D0%B8%D1%8F%2C%20%D0%A2%D0%B2%D0%B5%D1%80%D1%8C%2C%20%D0%BD%D0%B0%D0%B1%D0%B5%D1%80%D0%B5%D0%B6%D0%BD%D0%B0%D1%8F%20%D0%A1%D1%82%D0%B5%D0%BF%D0%B0%D0%BD%D0%B0%20%D0%A0%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0%2C%205&sll=35.912076%2C56.861751&ll=35.912076%2C56.861751&spn=0.031285%2C0.018148&z=15&l=map"></a>
    </div>

    <div id="c">
        <div class="tit-pager">
            <div></div>
            <div></div>
        </div>

        <ul id="timetable">

            <li id="timetable-xyz" style="display:none">
                <table cellspacing="0" cellpadding="0" border="0">
                    <tr>
                        <td rowspan="2">
                            <div><span class="hh"></span><span class="mm"></span></div>
                        </td>
                        <td>
                            <div class="author"></div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="topic"></div>
                        </td>
                    </tr>
                </table>
            </li>
        </ul>

        <a id="timetable-file" target="_blank" href="files/program.pdf"></a>
    </div>

    <div id="d">
        <div class="tit-pager">
            <div></div>
            <div></div>
        </div>
    </div>

</div>

<script>
//<![CDATA[

//~: initialize the timetable
$(document).ready(function () {
    $.each(TIMETABLE, function (i, m) {
        var n = $('#timetable-xyz').clone().removeAttr('id');

        $.each(['hh', 'mm', 'author', 'topic'], function () {
            n.find('.' + this).text(m[this])
        });

        $('#timetable').append(n.show())
    })
})

/**
 * Re-sizes the slides view-port to 4x3 proportions.
 */
function tit_resize_viewport() {
    var D = 20, W = $(window).innerWidth() - D * 2, H = $(window).innerHeight() - D * 2;
    var w = W, h = Math.floor(W * 3 / 4);
    if (h > H) {
        h = H;
        w = Math.floor(H * 4 / 3)
    }
    $('#viewport').width(w).height(h).offset({ left: D + (W - w) / 2, top: D + (H - h) / 2 });


    //~: font size of the edits
    $('#name, #sirname, #email').css('font-size', '' +
        ($('#name').innerHeight() * 0.7) + 'px')
}

$(document).ready(tit_resize_viewport); //<-- resize on the document on load
$(window).resize(tit_resize_viewport);  //<-- resize on window resize

//~: slide animation
function tit_slide(d) {
    //?: {has current target} do nothing
    if (tit_slide.target) return;

    function sign(n) {
        return (n < 0) ? (-1) : (+1)
    }

    d = sign(d);

    var ts = new Date().getTime();
    if (tit_slide.cooldown) //<-- prevents from continues sliding
        if (ts - tit_slide.cooldown < 500) return;

    var S = ['#a', '#b', '#c', '#d'];

    var page = tit_slide.page;
    if (!page) page = tit_slide.page = 0;

    //?: {moving left}
    if ((d == -1) && (tit_slide.page == S.length - 1)) return;

    //~: {moving right}
    if ((d == +1) && (tit_slide.page == 0)) return;

    //~: set the structure
    tit_slide.target = { hide: S[page] };
    tit_slide.page -= d;

    //~: left-right
    var L = Math.min(page, tit_slide.page);
    var R = Math.max(page, tit_slide.page);
    var D = (d == -1) ? ('r2l') : ('l2r');

    $(S[L]).removeClass().show().addClass('slide-' + D + '-left');
    $(S[R]).removeClass().show().addClass('slide-' + D + '-right');

    //~: slide page indicators
    $('.tit-pager div:last-child').removeClass().
        addClass('tit-pager-' + page + tit_slide.page);

    //~: init the slide
    tit_init_slide(tit_slide.page);

    //~: hide out-slide
    setTimeout(tit_slide_off, 2100)
}

function tit_slide_off() {
    if (!tit_slide.target) return;

    //~: hide the out-slide
    $(tit_slide.target.hide).hide();

    //~: to delay following slide requests
    tit_slide.cooldown = new Date().getTime();

    delete tit_slide.target
}

function tit_init_slide(i, d) {
    var title = 'TiTConf :: Добро пожаловать!';

    if (i == 1) title = 'TiTConf :: Адрес мероприятия';
    if (i == 2) title = 'TiTConf :: Расписание докладов';
    if (i == 3) title = 'TiTConf :: Зарегистрируйтесь!';
    $(document).prop('title', title)
}

//~: click and drag slides
function tit_touch_pos(e) {
    var x = e.originalEvent;
    if (x && x.touches && x.touches[0]) {
        if (!e.pageX) e.pageX = x.touches[0].pageX;
        if (!e.pageY) e.pageY = x.touches[0].pageY
    }
}

function tit_drag_start(e) {
    tit_touch_pos(e);
    tit_slide.drag = { x: e.pageX, ts: new Date().getTime() }
}

function tit_drag_move(e) {
    if (!tit_slide.drag) return;
    var ts = new Date().getTime();

    if (ts - tit_slide.drag.ts > 1000)
        return delete tit_slide.drag;

    tit_touch_pos(e);
    if (Math.abs(e.pageX - tit_slide.drag.x) > 15) {
        tit_slide(e.pageX - tit_slide.drag.x);
        tit_slide.drag.x = e.pageX;
        tit_slide.drag.ts = ts
    }
}

function tit_drag_done() {
    delete tit_slide.drag
}


//?: {touchscreen device}
if ('ontouchstart' in document.documentElement)
    $('#a, #b, #c, #d').on({
        touchstart:     tit_drag_start,
        touchmove:      tit_drag_move,
        touchend:       tit_drag_done,
        touchcancel:    tit_drag_done
    });
else {
    $('#a, #b, #c, #d').on({
        mousedown:  tit_drag_start,
        mouseup:    tit_drag_done,
        mousemove:  tit_drag_move
    });

    //~: slide the wheel
    $(document).on('mousewheel', function (e) {
        tit_slide((e.deltaX) ? (e.deltaX) : (e.deltaY))
    });

    //~: slide the keydown
    $(document).on('keydown', function(e) {
        switch(e.which) {
            case 37: // left
                tit_slide(+1);
                break;

            case 38: // up
                tit_slide(+1);
                break;

            case 39: // right
                tit_slide(-1);
                break;

            case 40: // down
                tit_slide(-1);
                break;
            default: return; // exit this handler for other keys
        }
        e.preventDefault(); // prevent the default action (scroll / move caret)
    });
}

//~: inputs change
$('#name, #sirname, #email').val('').
    focus(function () {
        var that = $(this);

        if (that.val() == that.attr('xvalue')) that.val('');
        that.removeClass('clear')
    }).
    focusout(function () {
        function ises(s) {
            return !s || (s.length == 0) || !/\S/.test(s)
        }

        function trim(s) {
            return !(s && s.length) ? ('') : (s.replace(/^\s+|\s+$/g, ''))
        }

        var that = $(this);
        if (ises(that.val()) || (trim(that.val()) == that.attr('xvalue'))) {
            that.val(that.attr('xvalue'));
            that.addClass('clear')
        }
    }).
    each(function () {
        function ises(s) {
            return !s || (s.length == 0) || !/\S/.test(s)
        }

        var that = $(this);
        if (ises(that.val())) that.val(that.attr('xvalue'));
        that.toggleClass('clear', that.val() == that.attr('xvalue'))
    }).
    keypress(function (e) {
        var k = e.keyCode || e.which, id = $(this).attr('id');
        var n, x = (k == 13) || (k == 9);


        if (x && id == 'name')
            n = $('#sirname').focus();
        if (x && id == 'sirname')
            n = $('#email').focus();
        if (k == 9 && id == 'email')
            n = $('#name').focus();
        if (k == 13 && id == 'email')
            n = $('#register').click();

        if (n) e.preventDefault()
    });

//]]>
</script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function () {
            try {
                w.yaCounter20457793 = new Ya.Metrika({
                    id: 20457793,
                    clickmap: true,
                    trackLinks: true,
                    accurateTrackBounce: true
                });
            } catch (e) {
            }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () {
                n.parentNode.insertBefore(s, n);
            };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else {
            f();
        }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript>
    <div><img src="//mc.yandex.ru/watch/20457793" style="position:absolute; left:-9999px;" alt=""/></div>
</noscript>
<!-- /Yandex.Metrika counter -->

<!-- GA -->
<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39085581-1']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();

</script>
<!-- /GA -->

</body>
</html>